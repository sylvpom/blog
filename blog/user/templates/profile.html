{% extends 'base.html' %}
{% block title %}
    <title>Mon profil</title>
{% endblock %}
  {% block extra_css %}
  <style>
    body{ margin:0; background:#877920; color:#e8e8ea; font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .container{ max-width:920px; margin:40px auto; padding:0 16px; }
    .card{ background:#16784a; border:1px solid #23242a; border-radius:16px; padding:20px; margin-bottom:20px; }
    h1,h2{ margin:.2rem 0 1rem }
    a{ color:#8b93ff; text-decoration:none } a:hover{ text-decoration:underline }
    .grid{ display:grid; gap:16px }
    @media(min-width:800px){ .grid-2{ grid-template-columns: 1fr 1fr } }
    .muted{ color:#a1a1aa }
    .pill{ display:inline-block; padding:2px 8px; border:1px solid #23242a; border-radius:999px; font-size:.8rem; margin-right:6px }
    .list{ list-style:none; padding:0; margin:0 }
    .list li{ padding:10px 0; border-bottom:1px solid #23242a }
  </style>
  {% endblock %}
  {% block content %}
  
  <div class="container">
    <div class="card">
      <h1>Bonjour, {{ user.get_username }} ðŸ‘‹</h1>
      <p class="muted">
        Email : {{ user.email|default:"â€”" }}<br>
        Date dâ€™inscription : {{ user.date_joined|date:"Y-m-d H:i" }}
      </p>
      <div>
        <span class="pill">Articles publiÃ©s : {{ mes_articles|length }}</span>
        <span class="pill">Articles likÃ©s : {{ liked_articles|length }}</span>
      </div>
    </div>

    <div class="grid grid-2">
      <section class="card">
        <h2>Mes articles</h2>
        {% if mes_articles %}
          <ul class="list">
            {% for a in mes_articles %}
              <li>
                <a href="{% url 'post-detail' pk=a.pk %}">{{ a.titre }}</a>
                <div class="muted">
                  {{ a.categorie.nom }} â€¢ {{ a.date_publication|date:"Y-m-d" }}
                  {% if a.tags.all %} â€¢
                    {% for t in a.tags.all %}<span class="pill">{{ t.nom }}</span>{% endfor %}
                  {% endif %}
                </div>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="muted">Vous nâ€™avez pas encore publiÃ© dâ€™article.</p>
        {% endif %}
      </section>

    </div>
  </div>

  {% endblock%}
